echo '🏛🏛🏛🏛... Before push, Trying to build now. 🏛🏛🏛🏛'
pnpm build ||
(
    echo '😱😱😱 Build failed. 😱😱😱
            Please fix the build issues and try pushing again.'
    false;
)

# Removed success message from here to avoid misleading output.

echo '🧪 Running unit tests...'
pnpm test:unit:run ||
(
    echo '❌❌❌ Unit tests failed! Fix the tests before pushing.'
    false;
)

echo '🧪 Running storybook browser tests...'
pnpm test:storybook:run ||
(
    echo '❌❌❌ Storybook tests failed! Fix the stories before pushing.'
    false;
)

echo '✅✅✅✅ You win this time... I am pushing this now. ✅✅✅✅'