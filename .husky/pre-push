echo 'ğŸ›ğŸ›ğŸ›ğŸ›... Before push, Trying to build now. ğŸ›ğŸ›ğŸ›ğŸ›'
pnpm build ||
(
    echo 'ğŸ˜±ğŸ˜±ğŸ˜± Build failed. ğŸ˜±ğŸ˜±ğŸ˜±
            Please fix the build issues and try pushing again.'
    false;
)

# Removed success message from here to avoid misleading output.

echo 'ğŸ§ª Running unit tests...'
pnpm test:unit:run ||
(
    echo 'âŒâŒâŒ Unit tests failed! Fix the tests before pushing.'
    false;
)

echo 'ğŸ§ª Running storybook browser tests...'
pnpm test:storybook:run ||
(
    echo 'âŒâŒâŒ Storybook tests failed! Fix the stories before pushing.'
    false;
)

echo 'âœ…âœ…âœ…âœ… You win this time... I am pushing this now. âœ…âœ…âœ…âœ…'